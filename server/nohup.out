libdc1394 error: Failed to initialize libdc1394
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0511 09:15:19.712859 135161 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /home/zhouyz14/project/net/metric_split_cuhk03/deploy_1_batch.prototxt
I0511 09:15:19.712909 135161 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0511 09:15:19.712914 135161 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0511 09:15:19.713163 135161 net.cpp:49] Initializing net from parameters: 
name: "metric_split_cuhk03"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "data"
  input_param {
    shape {
      dim: 1
      dim: 3
      dim: 240
      dim: 120
    }
  }
}
layer {
  name: "split"
  type: "Python"
  bottom: "data"
  top: "anchor/0/data"
  top: "anchor/1/data"
  top: "anchor/2/data"
  python_param {
    module: "layer"
    layer: "SplitLayer"
    param_str: "3parts"
    share_in_parallel: true
  }
}
layer {
  name: "anchor/0/conv1"
  type: "Convolution"
  bottom: "anchor/0/data"
  top: "anchor/0/conv1"
  param {
    name: "/conv1"
    lr_mult: 1
    decay_mult: 0
  }
  param {
    name: "/conv1_b"
    lr_mult: 1
    decay_mult: 0
  }
  convolution_param {
    num_output: 64
    kernel_size: 5
    stride: 2
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/0/relu1"
  type: "ReLU"
  bottom: "anchor/0/conv1"
  top: "anchor/0/conv1"
}
layer {
  name: "anchor/0/pool1"
  type: "Pooling"
  bottom: "anchor/0/conv1"
  top: "anchor/0/pool1"
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: "anchor/1/conv1"
  type: "Convolution"
  bottom: "anchor/1/data"
  top: "anchor/1/conv1"
  param {
    name: "/conv1"
    lr_mult: 1
    decay_mult: 0
  }
  param {
    name: "/conv1_b"
    lr_mult: 1
    decay_mult: 0
  }
  convolution_param {
    num_output: 64
    kernel_size: 5
    stride: 2
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/1/relu1"
  type: "ReLU"
  bottom: "anchor/1/conv1"
  top: "anchor/1/conv1"
}
layer {
  name: "anchor/1/pool1"
  type: "Pooling"
  bottom: "anchor/1/conv1"
  top: "anchor/1/pool1"
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: "anchor/2/conv1"
  type: "Convolution"
  bottom: "anchor/2/data"
  top: "anchor/2/conv1"
  param {
    name: "/conv1"
    lr_mult: 1
    decay_mult: 0
  }
  param {
    name: "/conv1_b"
    lr_mult: 1
    decay_mult: 0
  }
  convolution_param {
    num_output: 64
    kernel_size: 5
    stride: 2
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/2/relu1"
  type: "ReLU"
  bottom: "anchor/2/conv1"
  top: "anchor/2/conv1"
}
layer {
  name: "anchor/2/pool1"
  type: "Pooling"
  bottom: "anchor/2/conv1"
  top: "anchor/2/pool1"
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: "anchor/0/conv2"
  type: "Convolution"
  bottom: "anchor/0/pool1"
  top: "anchor/0/conv2"
  param {
    name: "/0/conv2"
    lr_mult: 1
    decay_mult: 0
  }
  param {
    name: "/0/conv2_b"
    lr_mult: 1
    decay_mult: 0
  }
  convolution_param {
    num_output: 64
    kernel_size: 3
    stride: 1
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/0/relu2"
  type: "ReLU"
  bottom: "anchor/0/conv2"
  top: "anchor/0/conv2"
}
layer {
  name: "anchor/0/pool2"
  type: "Pooling"
  bottom: "anchor/0/conv2"
  top: "anchor/0/pool2"
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: "anchor/1/conv2"
  type: "Convolution"
  bottom: "anchor/1/pool1"
  top: "anchor/1/conv2"
  param {
    name: "/1/conv2"
    lr_mult: 1
    decay_mult: 0
  }
  param {
    name: "/1/conv2_b"
    lr_mult: 1
    decay_mult: 0
  }
  convolution_param {
    num_output: 64
    kernel_size: 3
    stride: 1
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/1/relu2"
  type: "ReLU"
  bottom: "anchor/1/conv2"
  top: "anchor/1/conv2"
}
layer {
  name: "anchor/1/pool2"
  type: "Pooling"
  bottom: "anchor/1/conv2"
  top: "anchor/1/pool2"
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: "anchor/2/conv2"
  type: "Convolution"
  bottom: "anchor/2/pool1"
  top: "anchor/2/conv2"
  param {
    name: "/2/conv2"
    lr_mult: 1
    decay_mult: 0
  }
  param {
    name: "/2/conv2_b"
    lr_mult: 1
    decay_mult: 0
  }
  convolution_param {
    num_output: 64
    kernel_size: 3
    stride: 1
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/2/relu2"
  type: "ReLU"
  bottom: "anchor/2/conv2"
  top: "anchor/2/conv2"
}
layer {
  name: "anchor/2/pool2"
  type: "Pooling"
  bottom: "anchor/2/conv2"
  top: "anchor/2/pool2"
  pooling_param {
    pool: MAX
    kernel_size: 2
    stride: 2
  }
}
layer {
  name: "anchor/0/ip1"
  type: "InnerProduct"
  bottom: "anchor/0/pool2"
  top: "anchor/0/ip1"
  param {
    name: "/0/ip1"
    lr_mult: 1
    decay_mult: 1
  }
  param {
    name: "/0/ip1_b"
    lr_mult: 0
    decay_mult: 0
  }
  inner_product_param {
    num_output: 512
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/0/norm"
  type: "Normalization"
  bottom: "anchor/0/ip1"
  top: "anchor/0/feat"
}
layer {
  name: "anchor/1/ip1"
  type: "InnerProduct"
  bottom: "anchor/1/pool2"
  top: "anchor/1/ip1"
  param {
    name: "/0/ip1"
    lr_mult: 1
    decay_mult: 1
  }
  param {
    name: "/0/ip1_b"
    lr_mult: 0
    decay_mult: 0
  }
  inner_product_param {
    num_output: 512
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/1/norm"
  type: "Normalization"
  bottom: "anchor/1/ip1"
  top: "anchor/1/feat"
}
layer {
  name: "anchor/2/ip1"
  type: "InnerProduct"
  bottom: "anchor/2/pool2"
  top: "anchor/2/ip1"
  param {
    name: "/0/ip1"
    lr_mult: 1
    decay_mult: 1
  }
  param {
    name: "/0/ip1_b"
    lr_mult: 0
    decay_mult: 0
  }
  inner_product_param {
    num_output: 512
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "anchor/2/norm"
  type: "Normalization"
  bottom: "anchor/2/ip1"
  top: "anchor/2/feat"
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "anchor/0/feat"
  bottom: "anchor/1/feat"
  bottom: "anchor/2/feat"
  top: "feat"
  concat_param {
    axis: 1
  }
}
I0511 09:15:19.713289 135161 layer_factory.hpp:77] Creating layer input
I0511 09:15:19.713309 135161 net.cpp:91] Creating Layer input
I0511 09:15:19.713315 135161 net.cpp:399] input -> data
I0511 09:15:19.729714 135161 net.cpp:141] Setting up input
I0511 09:15:19.729735 135161 net.cpp:148] Top shape: 1 3 240 120 (86400)
I0511 09:15:19.729740 135161 net.cpp:156] Memory required for data: 345600
I0511 09:15:19.729746 135161 layer_factory.hpp:77] Creating layer split
I0511 09:15:19.910481 135161 net.cpp:91] Creating Layer split
I0511 09:15:19.910527 135161 net.cpp:425] split <- data
I0511 09:15:19.910543 135161 net.cpp:399] split -> anchor/0/data
I0511 09:15:19.910558 135161 net.cpp:399] split -> anchor/1/data
I0511 09:15:19.910570 135161 net.cpp:399] split -> anchor/2/data
I0511 09:15:19.911530 135161 net.cpp:141] Setting up split
I0511 09:15:19.911556 135161 net.cpp:148] Top shape: 1 3 120 120 (43200)
I0511 09:15:19.911562 135161 net.cpp:148] Top shape: 1 3 120 120 (43200)
I0511 09:15:19.911569 135161 net.cpp:148] Top shape: 1 3 120 120 (43200)
I0511 09:15:19.911598 135161 net.cpp:156] Memory required for data: 864000
I0511 09:15:19.911608 135161 layer_factory.hpp:77] Creating layer anchor/0/conv1
I0511 09:15:19.911638 135161 net.cpp:91] Creating Layer anchor/0/conv1
I0511 09:15:19.911643 135161 net.cpp:425] anchor/0/conv1 <- anchor/0/data
I0511 09:15:19.911653 135161 net.cpp:399] anchor/0/conv1 -> anchor/0/conv1
I0511 09:15:20.084506 135161 net.cpp:141] Setting up anchor/0/conv1
I0511 09:15:20.084553 135161 net.cpp:148] Top shape: 1 64 58 58 (215296)
I0511 09:15:20.084558 135161 net.cpp:156] Memory required for data: 1725184
I0511 09:15:20.084580 135161 layer_factory.hpp:77] Creating layer anchor/0/relu1
I0511 09:15:20.084597 135161 net.cpp:91] Creating Layer anchor/0/relu1
I0511 09:15:20.084604 135161 net.cpp:425] anchor/0/relu1 <- anchor/0/conv1
I0511 09:15:20.084611 135161 net.cpp:386] anchor/0/relu1 -> anchor/0/conv1 (in-place)
I0511 09:15:20.084821 135161 net.cpp:141] Setting up anchor/0/relu1
I0511 09:15:20.084832 135161 net.cpp:148] Top shape: 1 64 58 58 (215296)
I0511 09:15:20.084837 135161 net.cpp:156] Memory required for data: 2586368
I0511 09:15:20.084841 135161 layer_factory.hpp:77] Creating layer anchor/0/pool1
I0511 09:15:20.084853 135161 net.cpp:91] Creating Layer anchor/0/pool1
I0511 09:15:20.084858 135161 net.cpp:425] anchor/0/pool1 <- anchor/0/conv1
I0511 09:15:20.084866 135161 net.cpp:399] anchor/0/pool1 -> anchor/0/pool1
I0511 09:15:20.084945 135161 net.cpp:141] Setting up anchor/0/pool1
I0511 09:15:20.084954 135161 net.cpp:148] Top shape: 1 64 29 29 (53824)
I0511 09:15:20.084959 135161 net.cpp:156] Memory required for data: 2801664
I0511 09:15:20.084962 135161 layer_factory.hpp:77] Creating layer anchor/1/conv1
I0511 09:15:20.084978 135161 net.cpp:91] Creating Layer anchor/1/conv1
I0511 09:15:20.084983 135161 net.cpp:425] anchor/1/conv1 <- anchor/1/data
I0511 09:15:20.084990 135161 net.cpp:399] anchor/1/conv1 -> anchor/1/conv1
I0511 09:15:20.086480 135161 net.cpp:141] Setting up anchor/1/conv1
I0511 09:15:20.086498 135161 net.cpp:148] Top shape: 1 64 58 58 (215296)
I0511 09:15:20.086503 135161 net.cpp:156] Memory required for data: 3662848
I0511 09:15:20.086509 135161 net.cpp:484] Sharing parameters '/conv1' owned by layer 'anchor/0/conv1', param index 0
I0511 09:15:20.086515 135161 net.cpp:484] Sharing parameters '/conv1_b' owned by layer 'anchor/0/conv1', param index 1
I0511 09:15:20.086520 135161 layer_factory.hpp:77] Creating layer anchor/1/relu1
I0511 09:15:20.086529 135161 net.cpp:91] Creating Layer anchor/1/relu1
I0511 09:15:20.086534 135161 net.cpp:425] anchor/1/relu1 <- anchor/1/conv1
I0511 09:15:20.086542 135161 net.cpp:386] anchor/1/relu1 -> anchor/1/conv1 (in-place)
I0511 09:15:20.086881 135161 net.cpp:141] Setting up anchor/1/relu1
I0511 09:15:20.086896 135161 net.cpp:148] Top shape: 1 64 58 58 (215296)
I0511 09:15:20.086900 135161 net.cpp:156] Memory required for data: 4524032
I0511 09:15:20.086905 135161 layer_factory.hpp:77] Creating layer anchor/1/pool1
I0511 09:15:20.086915 135161 net.cpp:91] Creating Layer anchor/1/pool1
I0511 09:15:20.086918 135161 net.cpp:425] anchor/1/pool1 <- anchor/1/conv1
I0511 09:15:20.086927 135161 net.cpp:399] anchor/1/pool1 -> anchor/1/pool1
I0511 09:15:20.087000 135161 net.cpp:141] Setting up anchor/1/pool1
I0511 09:15:20.087008 135161 net.cpp:148] Top shape: 1 64 29 29 (53824)
I0511 09:15:20.087013 135161 net.cpp:156] Memory required for data: 4739328
I0511 09:15:20.087018 135161 layer_factory.hpp:77] Creating layer anchor/2/conv1
I0511 09:15:20.087034 135161 net.cpp:91] Creating Layer anchor/2/conv1
I0511 09:15:20.087038 135161 net.cpp:425] anchor/2/conv1 <- anchor/2/data
I0511 09:15:20.087049 135161 net.cpp:399] anchor/2/conv1 -> anchor/2/conv1
I0511 09:15:20.088527 135161 net.cpp:141] Setting up anchor/2/conv1
I0511 09:15:20.088544 135161 net.cpp:148] Top shape: 1 64 58 58 (215296)
I0511 09:15:20.088549 135161 net.cpp:156] Memory required for data: 5600512
I0511 09:15:20.088557 135161 net.cpp:484] Sharing parameters '/conv1' owned by layer 'anchor/0/conv1', param index 0
I0511 09:15:20.088572 135161 net.cpp:484] Sharing parameters '/conv1_b' owned by layer 'anchor/0/conv1', param index 1
I0511 09:15:20.088577 135161 layer_factory.hpp:77] Creating layer anchor/2/relu1
I0511 09:15:20.088584 135161 net.cpp:91] Creating Layer anchor/2/relu1
I0511 09:15:20.088588 135161 net.cpp:425] anchor/2/relu1 <- anchor/2/conv1
I0511 09:15:20.088598 135161 net.cpp:386] anchor/2/relu1 -> anchor/2/conv1 (in-place)
I0511 09:15:20.088803 135161 net.cpp:141] Setting up anchor/2/relu1
I0511 09:15:20.088815 135161 net.cpp:148] Top shape: 1 64 58 58 (215296)
I0511 09:15:20.088819 135161 net.cpp:156] Memory required for data: 6461696
I0511 09:15:20.088824 135161 layer_factory.hpp:77] Creating layer anchor/2/pool1
I0511 09:15:20.088832 135161 net.cpp:91] Creating Layer anchor/2/pool1
I0511 09:15:20.088836 135161 net.cpp:425] anchor/2/pool1 <- anchor/2/conv1
I0511 09:15:20.088842 135161 net.cpp:399] anchor/2/pool1 -> anchor/2/pool1
I0511 09:15:20.088913 135161 net.cpp:141] Setting up anchor/2/pool1
I0511 09:15:20.088922 135161 net.cpp:148] Top shape: 1 64 29 29 (53824)
I0511 09:15:20.088925 135161 net.cpp:156] Memory required for data: 6676992
I0511 09:15:20.088929 135161 layer_factory.hpp:77] Creating layer anchor/0/conv2
I0511 09:15:20.088944 135161 net.cpp:91] Creating Layer anchor/0/conv2
I0511 09:15:20.088949 135161 net.cpp:425] anchor/0/conv2 <- anchor/0/pool1
I0511 09:15:20.088956 135161 net.cpp:399] anchor/0/conv2 -> anchor/0/conv2
I0511 09:15:20.093200 135161 net.cpp:141] Setting up anchor/0/conv2
I0511 09:15:20.093219 135161 net.cpp:148] Top shape: 1 64 27 27 (46656)
I0511 09:15:20.093224 135161 net.cpp:156] Memory required for data: 6863616
I0511 09:15:20.093232 135161 layer_factory.hpp:77] Creating layer anchor/0/relu2
I0511 09:15:20.093240 135161 net.cpp:91] Creating Layer anchor/0/relu2
I0511 09:15:20.093245 135161 net.cpp:425] anchor/0/relu2 <- anchor/0/conv2
I0511 09:15:20.093255 135161 net.cpp:386] anchor/0/relu2 -> anchor/0/conv2 (in-place)
I0511 09:15:20.093471 135161 net.cpp:141] Setting up anchor/0/relu2
I0511 09:15:20.093482 135161 net.cpp:148] Top shape: 1 64 27 27 (46656)
I0511 09:15:20.093485 135161 net.cpp:156] Memory required for data: 7050240
I0511 09:15:20.093489 135161 layer_factory.hpp:77] Creating layer anchor/0/pool2
I0511 09:15:20.093500 135161 net.cpp:91] Creating Layer anchor/0/pool2
I0511 09:15:20.093504 135161 net.cpp:425] anchor/0/pool2 <- anchor/0/conv2
I0511 09:15:20.093511 135161 net.cpp:399] anchor/0/pool2 -> anchor/0/pool2
I0511 09:15:20.093585 135161 net.cpp:141] Setting up anchor/0/pool2
I0511 09:15:20.093595 135161 net.cpp:148] Top shape: 1 64 14 14 (12544)
I0511 09:15:20.093597 135161 net.cpp:156] Memory required for data: 7100416
I0511 09:15:20.093603 135161 layer_factory.hpp:77] Creating layer anchor/1/conv2
I0511 09:15:20.093616 135161 net.cpp:91] Creating Layer anchor/1/conv2
I0511 09:15:20.093621 135161 net.cpp:425] anchor/1/conv2 <- anchor/1/pool1
I0511 09:15:20.093631 135161 net.cpp:399] anchor/1/conv2 -> anchor/1/conv2
I0511 09:15:20.096331 135161 net.cpp:141] Setting up anchor/1/conv2
I0511 09:15:20.096349 135161 net.cpp:148] Top shape: 1 64 27 27 (46656)
I0511 09:15:20.096354 135161 net.cpp:156] Memory required for data: 7287040
I0511 09:15:20.096366 135161 layer_factory.hpp:77] Creating layer anchor/1/relu2
I0511 09:15:20.096375 135161 net.cpp:91] Creating Layer anchor/1/relu2
I0511 09:15:20.096379 135161 net.cpp:425] anchor/1/relu2 <- anchor/1/conv2
I0511 09:15:20.096390 135161 net.cpp:386] anchor/1/relu2 -> anchor/1/conv2 (in-place)
I0511 09:15:20.096724 135161 net.cpp:141] Setting up anchor/1/relu2
I0511 09:15:20.096740 135161 net.cpp:148] Top shape: 1 64 27 27 (46656)
I0511 09:15:20.096743 135161 net.cpp:156] Memory required for data: 7473664
I0511 09:15:20.096748 135161 layer_factory.hpp:77] Creating layer anchor/1/pool2
I0511 09:15:20.096761 135161 net.cpp:91] Creating Layer anchor/1/pool2
I0511 09:15:20.096766 135161 net.cpp:425] anchor/1/pool2 <- anchor/1/conv2
I0511 09:15:20.096773 135161 net.cpp:399] anchor/1/pool2 -> anchor/1/pool2
I0511 09:15:20.096853 135161 net.cpp:141] Setting up anchor/1/pool2
I0511 09:15:20.096868 135161 net.cpp:148] Top shape: 1 64 14 14 (12544)
I0511 09:15:20.096871 135161 net.cpp:156] Memory required for data: 7523840
I0511 09:15:20.096875 135161 layer_factory.hpp:77] Creating layer anchor/2/conv2
I0511 09:15:20.096889 135161 net.cpp:91] Creating Layer anchor/2/conv2
I0511 09:15:20.096892 135161 net.cpp:425] anchor/2/conv2 <- anchor/2/pool1
I0511 09:15:20.096902 135161 net.cpp:399] anchor/2/conv2 -> anchor/2/conv2
I0511 09:15:20.099584 135161 net.cpp:141] Setting up anchor/2/conv2
I0511 09:15:20.099601 135161 net.cpp:148] Top shape: 1 64 27 27 (46656)
I0511 09:15:20.099606 135161 net.cpp:156] Memory required for data: 7710464
I0511 09:15:20.099617 135161 layer_factory.hpp:77] Creating layer anchor/2/relu2
I0511 09:15:20.099624 135161 net.cpp:91] Creating Layer anchor/2/relu2
I0511 09:15:20.099629 135161 net.cpp:425] anchor/2/relu2 <- anchor/2/conv2
I0511 09:15:20.099638 135161 net.cpp:386] anchor/2/relu2 -> anchor/2/conv2 (in-place)
I0511 09:15:20.099839 135161 net.cpp:141] Setting up anchor/2/relu2
I0511 09:15:20.099853 135161 net.cpp:148] Top shape: 1 64 27 27 (46656)
I0511 09:15:20.099858 135161 net.cpp:156] Memory required for data: 7897088
I0511 09:15:20.099861 135161 layer_factory.hpp:77] Creating layer anchor/2/pool2
I0511 09:15:20.099870 135161 net.cpp:91] Creating Layer anchor/2/pool2
I0511 09:15:20.099874 135161 net.cpp:425] anchor/2/pool2 <- anchor/2/conv2
I0511 09:15:20.099881 135161 net.cpp:399] anchor/2/pool2 -> anchor/2/pool2
I0511 09:15:20.099957 135161 net.cpp:141] Setting up anchor/2/pool2
I0511 09:15:20.099967 135161 net.cpp:148] Top shape: 1 64 14 14 (12544)
I0511 09:15:20.099969 135161 net.cpp:156] Memory required for data: 7947264
I0511 09:15:20.099973 135161 layer_factory.hpp:77] Creating layer anchor/0/ip1
I0511 09:15:20.099987 135161 net.cpp:91] Creating Layer anchor/0/ip1
I0511 09:15:20.099992 135161 net.cpp:425] anchor/0/ip1 <- anchor/0/pool2
I0511 09:15:20.100002 135161 net.cpp:399] anchor/0/ip1 -> anchor/0/ip1
I0511 09:15:20.349611 135161 net.cpp:141] Setting up anchor/0/ip1
I0511 09:15:20.349649 135161 net.cpp:148] Top shape: 1 512 (512)
I0511 09:15:20.349654 135161 net.cpp:156] Memory required for data: 7949312
I0511 09:15:20.349669 135161 layer_factory.hpp:77] Creating layer anchor/0/norm
I0511 09:15:20.349692 135161 net.cpp:91] Creating Layer anchor/0/norm
I0511 09:15:20.349699 135161 net.cpp:425] anchor/0/norm <- anchor/0/ip1
I0511 09:15:20.349707 135161 net.cpp:399] anchor/0/norm -> anchor/0/feat
I0511 09:15:20.349777 135161 net.cpp:141] Setting up anchor/0/norm
I0511 09:15:20.349786 135161 net.cpp:148] Top shape: 1 512 (512)
I0511 09:15:20.349789 135161 net.cpp:156] Memory required for data: 7951360
I0511 09:15:20.349797 135161 layer_factory.hpp:77] Creating layer anchor/1/ip1
I0511 09:15:20.349809 135161 net.cpp:91] Creating Layer anchor/1/ip1
I0511 09:15:20.349814 135161 net.cpp:425] anchor/1/ip1 <- anchor/1/pool2
I0511 09:15:20.349822 135161 net.cpp:399] anchor/1/ip1 -> anchor/1/ip1
I0511 09:15:20.601794 135161 net.cpp:141] Setting up anchor/1/ip1
I0511 09:15:20.601838 135161 net.cpp:148] Top shape: 1 512 (512)
I0511 09:15:20.601843 135161 net.cpp:156] Memory required for data: 7953408
I0511 09:15:20.601853 135161 net.cpp:484] Sharing parameters '/0/ip1' owned by layer 'anchor/0/ip1', param index 0
I0511 09:15:20.601861 135161 net.cpp:484] Sharing parameters '/0/ip1_b' owned by layer 'anchor/0/ip1', param index 1
I0511 09:15:20.601866 135161 layer_factory.hpp:77] Creating layer anchor/1/norm
I0511 09:15:20.601879 135161 net.cpp:91] Creating Layer anchor/1/norm
I0511 09:15:20.601889 135161 net.cpp:425] anchor/1/norm <- anchor/1/ip1
I0511 09:15:20.601897 135161 net.cpp:399] anchor/1/norm -> anchor/1/feat
I0511 09:15:20.601971 135161 net.cpp:141] Setting up anchor/1/norm
I0511 09:15:20.601980 135161 net.cpp:148] Top shape: 1 512 (512)
I0511 09:15:20.601984 135161 net.cpp:156] Memory required for data: 7955456
I0511 09:15:20.601989 135161 layer_factory.hpp:77] Creating layer anchor/2/ip1
I0511 09:15:20.602002 135161 net.cpp:91] Creating Layer anchor/2/ip1
I0511 09:15:20.602017 135161 net.cpp:425] anchor/2/ip1 <- anchor/2/pool2
I0511 09:15:20.602027 135161 net.cpp:399] anchor/2/ip1 -> anchor/2/ip1
I0511 09:15:20.851306 135161 net.cpp:141] Setting up anchor/2/ip1
I0511 09:15:20.851343 135161 net.cpp:148] Top shape: 1 512 (512)
I0511 09:15:20.851347 135161 net.cpp:156] Memory required for data: 7957504
I0511 09:15:20.851373 135161 net.cpp:484] Sharing parameters '/0/ip1' owned by layer 'anchor/0/ip1', param index 0
I0511 09:15:20.851380 135161 net.cpp:484] Sharing parameters '/0/ip1_b' owned by layer 'anchor/0/ip1', param index 1
I0511 09:15:20.851387 135161 layer_factory.hpp:77] Creating layer anchor/2/norm
I0511 09:15:20.851402 135161 net.cpp:91] Creating Layer anchor/2/norm
I0511 09:15:20.851408 135161 net.cpp:425] anchor/2/norm <- anchor/2/ip1
I0511 09:15:20.851415 135161 net.cpp:399] anchor/2/norm -> anchor/2/feat
I0511 09:15:20.851485 135161 net.cpp:141] Setting up anchor/2/norm
I0511 09:15:20.851492 135161 net.cpp:148] Top shape: 1 512 (512)
I0511 09:15:20.851496 135161 net.cpp:156] Memory required for data: 7959552
I0511 09:15:20.851500 135161 layer_factory.hpp:77] Creating layer concat
I0511 09:15:20.851516 135161 net.cpp:91] Creating Layer concat
I0511 09:15:20.851523 135161 net.cpp:425] concat <- anchor/0/feat
I0511 09:15:20.851529 135161 net.cpp:425] concat <- anchor/1/feat
I0511 09:15:20.851534 135161 net.cpp:425] concat <- anchor/2/feat
I0511 09:15:20.851541 135161 net.cpp:399] concat -> feat
I0511 09:15:20.851584 135161 net.cpp:141] Setting up concat
I0511 09:15:20.851591 135161 net.cpp:148] Top shape: 1 1536 (1536)
I0511 09:15:20.851595 135161 net.cpp:156] Memory required for data: 7965696
I0511 09:15:20.851599 135161 net.cpp:219] concat does not need backward computation.
I0511 09:15:20.851604 135161 net.cpp:219] anchor/2/norm does not need backward computation.
I0511 09:15:20.851608 135161 net.cpp:219] anchor/2/ip1 does not need backward computation.
I0511 09:15:20.851613 135161 net.cpp:219] anchor/1/norm does not need backward computation.
I0511 09:15:20.851616 135161 net.cpp:219] anchor/1/ip1 does not need backward computation.
I0511 09:15:20.851621 135161 net.cpp:219] anchor/0/norm does not need backward computation.
I0511 09:15:20.851625 135161 net.cpp:219] anchor/0/ip1 does not need backward computation.
I0511 09:15:20.851629 135161 net.cpp:219] anchor/2/pool2 does not need backward computation.
I0511 09:15:20.851634 135161 net.cpp:219] anchor/2/relu2 does not need backward computation.
I0511 09:15:20.851639 135161 net.cpp:219] anchor/2/conv2 does not need backward computation.
I0511 09:15:20.851642 135161 net.cpp:219] anchor/1/pool2 does not need backward computation.
I0511 09:15:20.851647 135161 net.cpp:219] anchor/1/relu2 does not need backward computation.
I0511 09:15:20.851651 135161 net.cpp:219] anchor/1/conv2 does not need backward computation.
I0511 09:15:20.851655 135161 net.cpp:219] anchor/0/pool2 does not need backward computation.
I0511 09:15:20.851661 135161 net.cpp:219] anchor/0/relu2 does not need backward computation.
I0511 09:15:20.851665 135161 net.cpp:219] anchor/0/conv2 does not need backward computation.
I0511 09:15:20.851670 135161 net.cpp:219] anchor/2/pool1 does not need backward computation.
I0511 09:15:20.851673 135161 net.cpp:219] anchor/2/relu1 does not need backward computation.
I0511 09:15:20.851677 135161 net.cpp:219] anchor/2/conv1 does not need backward computation.
I0511 09:15:20.851682 135161 net.cpp:219] anchor/1/pool1 does not need backward computation.
I0511 09:15:20.851687 135161 net.cpp:219] anchor/1/relu1 does not need backward computation.
I0511 09:15:20.851691 135161 net.cpp:219] anchor/1/conv1 does not need backward computation.
I0511 09:15:20.851696 135161 net.cpp:219] anchor/0/pool1 does not need backward computation.
I0511 09:15:20.851702 135161 net.cpp:219] anchor/0/relu1 does not need backward computation.
I0511 09:15:20.851707 135161 net.cpp:219] anchor/0/conv1 does not need backward computation.
I0511 09:15:20.851716 135161 net.cpp:219] split does not need backward computation.
I0511 09:15:20.851734 135161 net.cpp:219] input does not need backward computation.
I0511 09:15:20.851738 135161 net.cpp:261] This network produces output feat
I0511 09:15:20.859879 135161 net.cpp:274] Network initialization done.
I0511 09:15:21.194982 135161 net.cpp:752] Ignoring source layer data
I0511 09:15:21.195017 135161 net.cpp:752] Ignoring source layer slice
I0511 09:15:21.195022 135161 net.cpp:752] Ignoring source layer anchor/split
I0511 09:15:21.212658 135161 net.cpp:752] Ignoring source layer pair/split
I0511 09:15:21.212685 135161 net.cpp:752] Ignoring source layer pair/0/conv1
I0511 09:15:21.212689 135161 net.cpp:752] Ignoring source layer pair/0/relu1
I0511 09:15:21.212692 135161 net.cpp:752] Ignoring source layer pair/0/pool1
I0511 09:15:21.212697 135161 net.cpp:752] Ignoring source layer pair/1/conv1
I0511 09:15:21.212700 135161 net.cpp:752] Ignoring source layer pair/1/relu1
I0511 09:15:21.212703 135161 net.cpp:752] Ignoring source layer pair/1/pool1
I0511 09:15:21.212707 135161 net.cpp:752] Ignoring source layer pair/2/conv1
I0511 09:15:21.212712 135161 net.cpp:752] Ignoring source layer pair/2/relu1
I0511 09:15:21.212714 135161 net.cpp:752] Ignoring source layer pair/2/pool1
I0511 09:15:21.212718 135161 net.cpp:752] Ignoring source layer pair/0/conv2
I0511 09:15:21.212721 135161 net.cpp:752] Ignoring source layer pair/0/relu2
I0511 09:15:21.212724 135161 net.cpp:752] Ignoring source layer pair/0/pool2
I0511 09:15:21.212728 135161 net.cpp:752] Ignoring source layer pair/1/conv2
I0511 09:15:21.212731 135161 net.cpp:752] Ignoring source layer pair/1/relu2
I0511 09:15:21.212735 135161 net.cpp:752] Ignoring source layer pair/1/pool2
I0511 09:15:21.212738 135161 net.cpp:752] Ignoring source layer pair/2/conv2
I0511 09:15:21.212743 135161 net.cpp:752] Ignoring source layer pair/2/relu2
I0511 09:15:21.212745 135161 net.cpp:752] Ignoring source layer pair/2/pool2
I0511 09:15:21.212749 135161 net.cpp:752] Ignoring source layer pair/0/ip1
I0511 09:15:21.212752 135161 net.cpp:752] Ignoring source layer pair/0/norm
I0511 09:15:21.212756 135161 net.cpp:752] Ignoring source layer pair/1/ip1
I0511 09:15:21.212759 135161 net.cpp:752] Ignoring source layer pair/1/norm
I0511 09:15:21.212764 135161 net.cpp:752] Ignoring source layer pair/2/ip1
I0511 09:15:21.212766 135161 net.cpp:752] Ignoring source layer pair/2/norm
I0511 09:15:21.212770 135161 net.cpp:752] Ignoring source layer loss
[11/May/2016 09:15:25] "GET /reid/ HTTP/1.1" 200 3085
[11/May/2016 09:15:25] "GET /static/bootstrap/css/bootstrap.min.css HTTP/1.1" 304 0
[11/May/2016 09:15:25] "GET /static/reid_person/PETERT8K.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:25] "GET /static/reid_person/JOHN5L8.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:25] "GET /static/reid_person/YIZHUANGRT7.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:25] "GET /static/images/128x256 HTTP/1.1" 200 4677
[11/May/2016 09:15:25] "GET /static/reid_person/JACKJZY.jpg HTTP/1.1" 200 12467
[11/May/2016 09:15:25] "GET /static/bootstrap/js/bootstrap.min.js HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /reid/ HTTP/1.1" 200 3085
[11/May/2016 09:15:26] "GET /static/bootstrap/css/bootstrap.min.css HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /static/reid_person/JOHN5L8.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /static/reid_person/YIZHUANGRT7.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /static/images/128x256 HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /static/reid_person/JACKJZY.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /static/reid_person/PETERT8K.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:26] "GET /static/bootstrap/js/bootstrap.min.js HTTP/1.1" 304 0
[11/May/2016 09:15:27] "GET /detection/ HTTP/1.1" 200 1570
[11/May/2016 09:15:28] "GET /reid/ HTTP/1.1" 200 3085
[11/May/2016 09:15:39] "GET /reid/ HTTP/1.1" 200 3085
[11/May/2016 09:15:39] "GET /static/bootstrap/css/bootstrap.min.css HTTP/1.1" 304 0
[11/May/2016 09:15:39] "GET /static/reid_person/YIZHUANGRT7.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:39] "GET /static/images/128x256 HTTP/1.1" 304 0
[11/May/2016 09:15:39] "GET /static/reid_person/JOHN5L8.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:39] "GET /static/reid_person/PETERT8K.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:39] "GET /static/reid_person/JACKJZY.jpg HTTP/1.1" 304 0
[11/May/2016 09:15:39] "GET /static/bootstrap/js/bootstrap.min.js HTTP/1.1" 304 0
[11/May/2016 09:15:48] "GET /reid/new_person/ HTTP/1.1" 200 2139
Internal Server Error: /reid/add_to_database/
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python2.7/dist-packages/django/views/decorators/csrf.py", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/zhouyz14/project/server/reid/views.py", line 61, in add_to_database
    create_person(name, path, feature)
  File "/home/zhouyz14/project/server/reid/views.py", line 80, in create_person
    Person.objects.create(name=name, image_path=path, feature=feature.tostring())
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/usr/local/lib/python2.7/dist-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python2.7/dist-packages/django/db/backends/utils.py", line 83, in execute
    sql = self.db.ops.last_executed_query(self.cursor, sql, params)
  File "/usr/local/lib/python2.7/dist-packages/django/db/backends/sqlite3/operations.py", line 140, in last_executed_query
    params = self._quote_params_for_last_executed_query(params)
  File "/usr/local/lib/python2.7/dist-packages/django/db/backends/sqlite3/operations.py", line 129, in _quote_params_for_last_executed_query
    return cursor.execute(sql, params).fetchone()
ProgrammingError: You must not use 8-bit bytestrings unless you use a text_factory that can interpret 8-bit bytestrings (like text_factory = str). It is highly recommended that you instead just switch your application to Unicode strings.
[11/May/2016 09:15:56] "POST /reid/add_to_database/ HTTP/1.1" 500 157013
[11/May/2016 09:15:59] "GET /reid/ HTTP/1.1" 200 3085
[11/May/2016 09:17:38] "GET /reid/identification/ HTTP/1.1" 200 1971
[11/May/2016 09:17:44] "GET /reid/identification/ HTTP/1.1" 200 1971
[11/May/2016 09:17:46] "GET /reid/new_person/ HTTP/1.1" 200 2139
[11/May/2016 09:17:48] "GET /reid/new_person/ HTTP/1.1" 200 2139
[11/May/2016 09:17:59] "GET /reid/new_person/ HTTP/1.1" 200 2139
